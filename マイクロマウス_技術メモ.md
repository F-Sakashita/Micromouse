# 目的

- マイクロマウスを設計する際の備忘録をここに残す．技術範囲はマイクロマウス 限定でも良い．わかったこと，疑問に思っていること，何でもいいのでメモする．記入ルールとしてはカテゴリ別に分けるだけで，あとは自由．参考にしたURLや書籍の情報，なぜその設計にしたのかは必ずメモすること．



## マウス用語

- マウス本：苦しんで作るマイクロマウス 





# 回路

### Kicad

- 回路ごとで階層シートを分けると見やすい．
  - MCUの回路の下層に電源，モータ駆動，壁センサのシートを作成し，それぞれに階層ラベルを追加した．

## 回路設計

### 駆動回路

- Faulhaber1717T003SRの定格時の起動電流は2.712 A (= 起動トルク/トルク定数より算出)，連続電流0.7A
  - トルク定数：1.98 mNm/A,  起動トルク：5.47 mNm
- MDはモータの起動電流，連続電流を超えるように，TB6612FNGを採用（平均1.2A, ピーク3.2A)
- ただ定格電圧3Vに対して，MDの電源電圧が最大8.4Vと定格の2倍以上・・・出力制限するのかな・・・？定格6Vのモータに変更にするべき？
  - 6Vの場合，起動電流1.35A, 連続0.63A．定常時のトルクは3Vより大きいが回転数が劣る．逆起電圧も大きい．3Vよりちょい高価．2019年のテクニカルデータ集（http://www.ntf.or.jp/mouse/micromouse2019/result/mm2019recode_v104.pdf）には両方いる・・・まじで定格2倍以上で使用してるのか？
    - まじだった（3Vに3セルとか突っ込んでる・・・）https://twitter.com/tennisyi/status/802868693659099137

### 発光回路

- マウス本をほぼ真似た．オペアンプ の入力信号の分圧回路を3.3Vに合わせた．電流量の計算は回路図に記載．

### 受光回路

- フォトトランジスタの負荷抵抗を1k にしたが，なぜ1kという値が良いのか，マイコンからはこの信号がどう見えるのかが不明．下記の参考ページと同じ回路を採用．実機で動作確認する．
  - 負荷抵抗を1kにした時のAD値の算出について調べること
  - 参考：https://rt-net.jp/mobility/archives/14559

## 基板設計

### 駆動回路



# ソフト

## 組込



## モータ制御



## 走行制御



## 探索アルゴリズム



## 経路計画 



## 走行シミュレータ





# メカ

### Fusion360



### モータマウント

